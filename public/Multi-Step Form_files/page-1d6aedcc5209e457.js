(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7069:(e,r,t)=>{Promise.resolve().then(t.bind(t,621))},621:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>U});var a=t(5155),s=t(2115),l=t(5683),n=t(1714);let o=(e,r)=>{let t={...r,currentStep:e};localStorage.setItem("savedFormData",JSON.stringify(t))},i=()=>{let e=localStorage.getItem("savedFormData");return e?JSON.parse(e):null},c=()=>{localStorage.removeItem("savedFormData")},d={email:"",lastName:"",username:"",password:"",firstName:"",phoneNumber:"",dateOfBirth:"",profileImage:"",confirmPassword:""},m={center:{opacity:1,x:0},enter:{opacity:0,x:100},exit:{opacity:0,x:-100}};var u=t(3821),h=t.n(u);let x=()=>(0,a.jsxs)("div",{className:"space-y-2 bg-white rounded-lg w-[480px] p-8",children:[(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(h(),{src:"/pinecone-logo.svg",width:60,height:60,alt:"pinecone-logo",objectFit:"cover",priority:!0})}),(0,a.jsx)("h2",{className:"text-[26px] text-[#202124] font-semibold",children:"You're All Set! \uD83D\uDD25"}),(0,a.jsx)("p",{className:"text-lg text-[#8E8E8E] font-normal",children:"We've received your submission. Thank you!"})]}),p=()=>(0,a.jsxs)("div",{className:"space-y-2 mb-7",children:[(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(h(),{src:"/pinecone-logo.svg",width:60,height:60,alt:"pinecone-logo",objectFit:"cover",priority:!0})}),(0,a.jsx)("h2",{className:"text-[26px] text-foreground font-semibold",children:"Join Us! \uD83D\uDE0E"}),(0,a.jsx)("p",{className:"text-[18px] whitespace-nowrap text-[#8E8E8E]",children:"Please provide all current information accurately."})]}),g=e=>{let{error:r}=e;return r?(0,a.jsx)("p",{className:"text-error text-xs",children:r}):null},f=e=>{let{name:r,label:t}=e;return(0,a.jsxs)("label",{htmlFor:r,className:"block text-sm font-semibold leading-4 text-[#334155]",children:[t," ",(0,a.jsx)("span",{className:"text-error",children:"*"})]})},j=e=>{let{name:r,value:t,placeholder:s,error:l,label:n,onChange:o,type:i="text"}=e;return(0,a.jsxs)("fieldset",{className:"space-y-2",children:[(0,a.jsx)(f,{label:n,name:r}),(0,a.jsx)("input",{name:r,type:i,value:t,onChange:o,placeholder:s,className:"w-full p-3 text-base leading-5 rounded-md outline ".concat(l?"outline-error":"outline-[#CBD5E1]"," focus:outline-[#0CA5E9] text-[#121316]")}),(0,a.jsx)(g,{error:l})]})},b=e=>{let{text:r}=e;return(0,a.jsxs)("button",{type:"submit",className:"flex flex-1 items-center justify-center h-[44px] gap-x-3 rounded-md bg-[#121316] text-white transition-all duration-300 hover:opacity-80",children:[r,(0,a.jsx)(h(),{src:"/icons/forward-arrow-icon.svg",width:7,height:12,alt:"forward-arrow-icon",objectFit:"cover",priority:!0})]})},v=e=>{let{children:r,handleSubmit:t}=e;return(0,a.jsxs)("div",{className:"flex flex-col w-[480px] min-h-[655px] p-8 bg-white rounded-lg",children:[(0,a.jsx)(p,{}),(0,a.jsx)("form",{onSubmit:t,className:"flex flex-col flex-grow gap-y-3",children:r})]})},w=e=>{let{imagePreviewUrl:r,resetFileInput:t}=e;return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(h(),{src:r,alt:"preview",height:180,width:416,objectFit:"cover",className:"rounded-md"})}),(0,a.jsx)("div",{className:"absolute top-4 right-4 flex items-center justify-center w-6 h-6 bg-[#202124] rounded-full cursor-pointer",onClick:t,children:(0,a.jsx)(h(),{src:"/icons/x-icon.svg",height:12,width:12,alt:"x-icon",priority:!0})})]})},N=e=>{let{goToPreviousStep:r}=e;return(0,a.jsxs)("button",{type:"button",onClick:r,className:"flex items-center justify-center w-32 gap-x-3 rounded-md border border-[#CBD5E1] transition-all duration-300 hover:bg-gray-100",children:[(0,a.jsx)(h(),{src:"/icons/back-arrow-icon.svg",width:7,height:12,alt:"backward-arrow-icon",priority:!0})," ",(0,a.jsx)("span",{children:"Back"})]})},y=e=>{let{handleFileSelection:r,triggerFileInputClick:t}=e,[l,n]=(0,s.useState)(!1);return(0,a.jsxs)("div",{onDrop:e=>{e.preventDefault(),n(!1),r(Array.from(e.dataTransfer.files).at(0))},onDragOver:e=>{e.preventDefault(),n(!0)},onDragLeave:()=>n(!1),onClick:t,className:"flex flex-col items-center justify-center gap-y-2 cursor-pointer bg-gray-100 h-[180px] border rounded-md ".concat(l?"border-dashed border-gray-600":"border-solid"),children:[(0,a.jsx)("div",{className:"bg-white rounded-full w-7 h-7 flex items-center justify-center",children:(0,a.jsx)(h(),{src:"/icons/add-image-icon.svg",width:12,height:12,alt:"add-image-icon",priority:!0})}),(0,a.jsx)("h4",{className:"text-sm text-center",children:"Browse or Drop Image"})]})},C=e=>{let{step:r,goToPreviousStep:t}=e;return(0,a.jsxs)("div",{className:"flex w-full gap-x-2 mt-auto",children:[t&&(0,a.jsx)(N,{goToPreviousStep:t}),(0,a.jsx)(b,{text:r})]})},F=e=>{let{error:r,setFormValues:t,setFormErrors:l}=e,n=(0,s.useRef)(null),[o,i]=(0,s.useState)(null),c=e=>{e&&(i(URL.createObjectURL(e)),t(r=>({...r,profileImage:e})))};return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(f,{label:"Profile image",name:"profileImage"}),o?(0,a.jsx)(w,{imagePreviewUrl:o,resetFileInput:()=>{i(null),n.current&&(n.current.value=""),t(e=>({...e,profileImage:""}))}}):(0,a.jsx)(y,{triggerFileInputClick:()=>n.current.click(),handleFileSelection:c}),(0,a.jsx)("input",{ref:n,type:"file",name:"profileImage",hidden:!0,onChange:e=>{c(Array.from(e.target.files)[0]),l(e=>({...e,profileImage:""}))}}),(0,a.jsx)(g,{error:r})]})},D=/^\+?\d{8}$/,S=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,E=e=>!(null==e?void 0:e.trim()),k=e=>S.test(e),P=e=>D.test(e),I=e=>{let{firstName:r,lastName:t,username:a}=e,s={};return E(r)&&(s.firstName="Нэрээ оруулна уу"),E(t)&&(s.lastName="Овгоо оруулна уу."),E(a)&&(s.username="Хэрэглэгчийн нэрээ оруулна уу"),{isFormValid:0===Object.keys(s).length,validationErrors:s}},O=e=>{let{email:r,phoneNumber:t,password:a,confirmPassword:s}=e,l={};return E(r)?l.email="Мэйл хаягаа оруулна уу":k(r)||(l.email="Зөв мэйл хаяг оруулна уу"),E(t)?l.phoneNumber="Утасны дугаараа оруулна уу.":t.length<8?l.phoneNumber="8 оронтой дугаар оруулна уу.":P(t)||(l.phoneNumber="Зөв утасны дугаар оруулна уу"),E(a)?l.password="Нууц үгээ оруулна уу":a.length<6&&(l.password="6 оронтой тоо оруулна уу"),s?s!==a&&(l.confirmPassword="Таны оруулсан нууц үг таарахгүй байна."):l.confirmPassword="Нууц үгээ давтаж оруулна уу",{isFormValid:0===Object.keys(l).length,validationErrors:l}},B=e=>{let{dateOfBirth:r,profileImage:t}=e,a={};E(r)&&(a.dateOfBirth="Төрсөн өдрөө оруулна уу");let s=new Date,l=new Date(r),n=s.getFullYear()-l.getFullYear();return l>s?a.dateOfBirth="Төрсөн өдөр одоогийн огнооноос өмнө байх ёстой.":n<18&&(a.dateOfBirth="Та 18 ба түүнээс дээш настай байх ёстой."),t||(a.profileImage="Профайл зурагаа оруулна уу"),{isFormValid:0===Object.keys(a).length,validationErrors:a}},Y=e=>{let{formErrors:r,formValues:t,goToNextStep:l,goToPreviousStep:n,updateFormErrors:o,handleInputChange:i,setFormValues:d,setFormErrors:m}=e,{dateOfBirth:u}=t,{dateOfBirth:h,profileImage:x}=r;return(0,a.jsx)(v,{handleSubmit:e=>{e.preventDefault();let{isFormValid:r,validationErrors:a}=B(t);if(r){c(),console.log({formValues:t}),l();return}o(a)},children:(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(j,{type:"date",name:"dateOfBirth",value:u,label:"Date of birth",placeholder:"--/--/--",error:h,onChange:i}),(0,a.jsx)(F,{error:x,setFormValues:d,setFormErrors:m}),(0,a.jsx)(C,{step:"Continue 3/3",goToPreviousStep:n})]})})},T=e=>{let{formErrors:r,formValues:t,goToNextStep:l,goToPreviousStep:n,updateFormErrors:i,handleInputChange:c}=e,{email:d,phoneNumber:m,password:u,confirmPassword:h}=t,{email:x,phoneNumber:p,password:g,confirmPassword:f}=r;return(0,a.jsx)(v,{handleSubmit:e=>{e.preventDefault();let{isFormValid:r,validationErrors:a}=O(t);if(r){o(2,t),l();return}i(a)},children:(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(j,{name:"email",value:d,onChange:c,placeholder:"Your email",error:x,label:"Email"}),(0,a.jsx)(j,{name:"phoneNumber",value:m,label:"Phone number",error:p,onChange:c,placeholder:"Your phone number"}),(0,a.jsx)(j,{name:"password",type:"password",value:u,label:"Password",error:g,placeholder:"Your password",onChange:c}),(0,a.jsx)(j,{type:"password",name:"confirmPassword",value:h,label:"Confirm password",error:f,onChange:c,placeholder:"Confirm password"}),(0,a.jsx)(C,{step:"Continue 2/3",goToPreviousStep:n})]})})},V=e=>{let{formErrors:r,formValues:t,goToNextStep:l,updateFormErrors:n,handleInputChange:i}=e,{firstName:c,lastName:d,username:m}=t,{firstName:u,lastName:h,username:x}=r;return(0,a.jsx)(v,{handleSubmit:e=>{e.preventDefault();let{isFormValid:r,validationErrors:a}=I(t);if(r){o(1,t),l();return}n(a)},children:(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(j,{name:"firstName",value:c,onChange:i,placeholder:"Your first name",error:u,label:"First name"}),(0,a.jsx)(j,{name:"lastName",value:d,onChange:i,placeholder:"Your last name",error:h,label:"Last name"}),(0,a.jsx)(j,{name:"username",value:m,onChange:i,placeholder:"Your username",error:x,label:"Username"}),(0,a.jsx)(C,{step:"Continue 1/3"})]})})};function _(){let[e,r]=(0,s.useState)(0),[t,o]=(0,s.useState)(d),[c,u]=(0,s.useState)(d);(0,s.useEffect)(()=>{let e=i();e&&(o(e),r(e.currentStep||0))},[]);let h=[V,T,Y,x][e];return(0,a.jsx)(l.N,{mode:"wait",children:(0,a.jsx)(n.P.div,{initial:"enter",animate:"center",exit:"exit",variants:m,transition:{duration:.5},children:(0,a.jsx)(h,{formErrors:c,formValues:t,goToNextStep:()=>{e<3&&r(e=>e+1)},setFormValues:o,setFormErrors:u,goToPreviousStep:()=>{e>0&&r(e=>e-1)},updateFormErrors:e=>{u(r=>({...r,...e}))},handleInputChange:e=>{let{name:r,value:t}=e.target;u(e=>({...e,[r]:""})),o(e=>({...e,[r]:t}))}})},e)})}let U=()=>(0,a.jsx)(_,{})}},e=>{var r=r=>e(e.s=r);e.O(0,[232,441,517,358],()=>r(7069)),_N_E=e.O()}]);